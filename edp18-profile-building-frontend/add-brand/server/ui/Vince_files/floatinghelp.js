rnChat.floatHelp=function(t){if("object"!=typeof rnChat.floatHelp.opt&&(rnChat.floatHelp.opt=new Object),null!==document.getElementById("rnowWidgetOptions")){var e=document.getElementById("rnowWidgetOptions").innerHTML.toString();if(0<e.length)try{for(var n in e=JSON.parse(e))rnChat.floatHelp.opt[n]=e[n];document.getElementById("rnowWidgetOptions").innerHTML=""}catch(t){console.log("-- invalid option json passed to floating help widget --")}}if(void 0!==t)for(var n in t)rnChat.floatHelp.opt[n]=t[n];if("string"!=typeof rnChat.floatHelp.opt.cmPrefix&&(rnChat.floatHelp.opt.cmPrefix=""),"object"!=typeof rnChat.floatHelp.opt.answers&&(rnChat.floatHelp.opt.answers=[[659,"How can I track my order?"],[98,"When will I receive my order?"],[55,"How can I change or cancel my order?"],[140,"What is Macy&apos;s return policy?"],[2521,"Easy Returns: How can I process my return online?"]]),"number"!=typeof rnChat.floatHelp.opt.widgetStyle&&(rnChat.floatHelp.opt.widgetStyle=1),rnChat.floatHelp.resetPosition=function(){if(null!==document.getElementById("rnowWidgetLink"))switch(document.getElementById("rnowWidgetLink").getAttribute("type")===rnChat.floatHelp.opt.widgetStyle&&document.getElementById("rnowWidgetContainer").getAttribute("type")===rnChat.floatHelp.opt.widgetStyle||(document.getElementById("rnowWidgetLink").setAttribute("type",rnChat.floatHelp.opt.widgetStyle),document.getElementById("rnowWidgetContainer").setAttribute("type",rnChat.floatHelp.opt.widgetStyle)),rnChat.floatHelp.opt.widgetStyle){case 343:default:(document.getElementById("rnowWidgetLink").hasAttribute("style")||document.getElementById("rnowWidgetContainer").hasAttribute("style"))&&document.getElementById("rnowWidgetLink").removeAttribute("style"),null===document.getElementById("rnowWidgetContainer").style.top&&null===document.getElementById("rnowWidgetContainer").style.left||(document.getElementById("rnowWidgetContainer").style.top=null,document.getElementById("rnowWidgetContainer").style.left=null)}},rnChat.floatHelp.init=function(){null==document.getElementById("rnowWidgetLink")&&($('<link href="'+rightNowDomainName+'/euf/assets/css/syndicated_widgets/standard/floatinghelp.css" type="text/css" rel="stylesheet">').appendTo("head"),$('<link href="'+rightNowDomainName+'/euf/assets/css/syndicated_widgets/standard/KnowledgeSyndication.css" type="text/css" rel="stylesheet">').appendTo("head"),$('<div id="rnowWidgetLink">\n<div id="rnowWidgetLinkIcon"></div>\n</div>\n<div id="rnowWidgetInfoBalloon" style="display:none"></div>\n<div id="rnowWidgetOptions" style="display:none"></div>\n<div id="rnowWidgetContainer" class="rn_Hidden">\n<div class="container-close icon-ui-close-gr-large"></div>\n<div class="widget-panel">\n<div class="widget-header">Need Help?</div>\n<div class="widget-sub-header">Common questions:</div>\n<div id="rnowKnowledgeContainer_type4">\n<div class="KnowledgeSyndication">\n<div class="rn_SearchArea">\n<div id="rn_SearchBoxskb_1" class="rn_SearchBox">\n<div class="rn_screen_reader_only"><label for="rn_Queryskb_1">Search</label></div>\n<input type="text" autocomplete="on" id="rn_Queryskb_1" name="q" class="rn_Query" placeholder="Search for a question">\n</div>\n<div class="rn_SearchButton"><input type="button" id="rn_SearchButtonskb_1" value="Search" name="rn_ButtonInput" class="rn_ButtonInput"></div>\n</div>\n<div id="rn_Contentskb_1" class="rn_Content">\n<ul id="rn_ContentListskb_1" class="rn_List"></ul>\n</div>\n<div id="rn_Navigationskb_1" class="rn_Navigation"><a href="https://www.customerservice-macys.com/app/home" alt="" target="_blank">Customer Service</a></div>\n</div>\n</div>\n<div id="rnowChatLinkContainer_type4">\n<div id="rnowChatLink_type4">\n<div id="rnowChatLinkInfo_type4" class="button secondary"></div>\n</div>\n</div>\n</div>\n</div>').appendTo("body"),rnChat.floatHelp.resetPosition(),$("#rnowWidgetContainer .container-close").click(function(){document.getElementById("rnowWidgetContainer").className="rn_Hidden"}),$("#rnowWidgetLink").click(function(){-1<document.getElementById("rnowWidgetContainer").className.indexOf("rn_Hidden")?document.getElementById("rnowWidgetContainer").className="":document.getElementById("rnowWidgetContainer").className="rn_Hidden",rnChat.floatHelp.resetPosition()}).one("click",function(){cmCreateManualLinkClickTag(location.href.split("?")[0]+"?cm_sp="+rnChat.floatHelp.opt.cmPrefix+"help-widget-_-n"),rnChat.floatHelp.tagAnswers()}),$(document).click(function(t){!$(t.target).closest("#rnowWidgetContainer").length&&t.target.id.indexOf("rnowWidget")<0&&$("#rnowWidgetContainer").is(":visible")&&(document.getElementById("rnowWidgetContainer").className="rn_Hidden")}),$(window).resize(function(){$(document).trigger("scroll")}),$(document,window).on("scroll resize load",function(){rnChat.floatHelp.resetPosition()}),rnChat.floatHelp.resetPosition(),$("body").on("keydown","#rnowKnowledgeContainer_type4 .rn_Query",function(t){13==t.keyCode&&$("#rnowKnowledgeContainer_type4 .rn_ButtonInput").trigger("click")}),$("#rnowKnowledgeContainer_type4 .rn_ButtonInput").on("click",function(t){cmCreateManualLinkClickTag(location.href.split("?")[0]+"?cm_sp="+rnChat.floatHelp.opt.cmPrefix+"help-widget-search"),$(this).off(t)}).on("click",function(){var t,e=encodeURI($("#rnowKnowledgeContainer_type4 .rn_Query").val());t=0<e.length?"https://www.customerservice-macys.com/app/answers/list/kw/"+e+"/search":"https://www.customerservice-macys.com/app/home";window.open(t)}),window.addEventListener("resize",function(){rnChat.floatHelp.resetPosition()}))},rnChat.floatHelp.tagAnswers=function(){$("#rnowKnowledgeContainer_type4").find("a").each(function(){$(this).off().one("click",function(){cmCreateManualLinkClickTag(location.href.split("?")[0]+"?cm_sp="+rnChat.floatHelp.opt.cmPrefix+"help-widget-_-"+$(this).text().toLowerCase().replace(/[^a-zA-Z0-9]|\s/g,"_").replace(/_+/g,"_"))}),rnChat.floatHelp.resetPosition()})},rnChat.floatHelp.init(),rnChat.floatHelp.resetPosition(),"boolean"==typeof rnChat.floatHelp.opt.tagAnswers&&rnChat.floatHelp.tagAnswers(),"string"==typeof rnChat.floatHelp.opt.tint&&(document.getElementById("rnowWidgetLink").setAttribute("tint",rnChat.floatHelp.opt.tint.toString()),document.getElementById("rnowWidgetContainer").setAttribute("tint",rnChat.floatHelp.opt.tint.toString())),void 0!==t||0==document.getElementById("rn_ContentListskb_1").innerHTML.trim().length){if(document.getElementById("rn_ContentListskb_1").innerHTML="","object"==typeof rnChat.floatHelp.opt.answers)for(n=0;n<rnChat.floatHelp.opt.answers.length;n++){if("number"!=typeof rnChat.floatHelp.opt.answers[n][0])var o=rnChat.floatHelp.opt.answers[n][0];else o=rightNowDomainName+"/app/answers/detail/a_id/"+rnChat.floatHelp.opt.answers[n][0];var i=rnChat.floatHelp.opt.answers[n][1];document.getElementById("rn_ContentListskb_1").innerHTML+='<li class="rn_Item"><span class="rn_Title"><a data-link="'+o+'" class="rn_Link" target="_blank" href="'+o+'">'+i+"</a></span><br></li>"}rnChat.floatHelp.tagAnswers()}};